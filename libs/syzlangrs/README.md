# syzlangrs

Generates Rust structures from syzkaller's syzlang, and implements mutators for fuzzing with the created grammar.

# Setup

The syzlang grammar is generated by the script `syzlang-bridge/gen.py`.
To use the script, first clone syzkaller:

```
cd syzlang-bridge/
git clone https://github.com/google/syzkaller
```

Then apply the patch `syzlang-bridge/generate_json.patch` and compile syzkaller:

```
cd syzkaller/
git apply ../generate_json.patch
make
```

Confirm that after building, the file `sys/json/linux/amd64.json` exists in the syzkaller repo.

Now execute the `gen.py` script from the `syzlang-bridge` directory

```
cd ..
python gen.py
```

This should emit `gen.rs` files to `src/syscalls/gen.rs`, `src/syscalls/types/gen.rs`, and `src/syscalls/resources/gen.rs`.

Test that everything was successfull by running the testcases:

```
cargo test
```
